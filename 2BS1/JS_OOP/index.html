<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS_OOP</title>
</head>
<body>
    
</body>
<script>
    //Definice objektu
    let objekt = {};

    //Přiřazení atributu/vlastnosti objektu s hodnotou
    objekt.barva = "Zelená";
    console.log(objekt);

    let auto = {
        znacka: "BMW",
        barva: "žlutá"
    };

    console.log(auto);

    //Tečková syntaxe
    let barva_auta = auto.barva;
    auto.barva = "červená"
    console.log(barva_auta);

    //zavorková syntaxe
    auto['barva'] = "bílá";
    console.log(auto);

    //Výpis atributu pomocí názvu položky v proměnné
    let polozka = "barva";
    console.log(auto[polozka]);

    //Objekt s polem a jiným objektem jako položkou
    let moje_auto = {
        nazev: "Super auto",
        rok_vyroby: 1989,
        obsah_kufru: ["taška na nákup","náhradní pneu","lékarnička"],
        pasazer: {jmeno: "Adam",vek: 19}
    }

    console.log(moje_auto.obsah_kufru[0]);
    console.log(moje_auto.pasazer.jmeno);
    console.log(moje_auto);

    //Smazání položky z objektu
    delete moje_auto.pasazer;
    console.log(moje_auto);

    let garaz = [
        {znacka: "BMW",majitel: "Lukáš"},
        {znacka: "Volwo",majitel: "Adam"}
    ]

    for (let objekt of garaz){
        console.log(`V garáži je auto značky ${objekt.znacka}, které patří ${objekt.majitel
        }`);
    }

    //Úkol Replit - Seznam knih
    //Pole objektů
    let knihy = [
        {nazev: "Havran", autor: "Edgar Alan Poe", precteno: false},
        {nazev: "Král Lávra", autor: "Karel H. Borovský", precteno: true},
        {nazev: "Bilá Nemoc", autor: "Karel Čapek", precteno: true}
    ]
    //Funkce pracující s objektem jako parametrem
    function popisKnihy(kniha){
        let popis =  `${kniha.nazev}, jejím autorem je ${kniha.autor}`;
        return popis;
    }
    //Výpis návratové hodnoty z funkce popisKnihy
    console.log(popisKnihy(knihy[0]));

    function popisKnihy2(kniha){
        let popis;
        if(kniha.precteno){
            popis = `Už jsem četl knihu "${kniha.nazev}", jejím autorem je ${kniha.autor}`
        } else {
            popis = `Chci si přečíst knihu "${kniha.nazev}", jejím autorem je ${kniha.autor}`
        }
        return popis;
    }

    for(let kniha of knihy){
        console.log(popisKnihy2(kniha));
    }

    //Konec úlohy Replit

    //Cyklus na procházení položek
    for (let key in moje_auto) {
        //Vypíše název položky
        console.log(key);
        //Vypíše hodnotu položky key
        console.log(moje_auto[key]);
    }

    //Vnořený objekt
    let soused_auto = {
        kufr: {lekarnicka: false, rezerva: true, zavazadlo: {nazev: "Kufr do práce", vaha: 12}}
    }

    //Výpis vnořených objektů
    console.log(soused_auto.kufr.lekarnicka);
    console.log(soused_auto.kufr.zavazadlo.nazev);

    //Rozdíl ukládání do paměti a reference

    //Čísla, bool, řetezce se napevno ukládají do paměti
    let prvniPromenna = 3;
    let druhaPromenna = prvniPromenna;
    prvniPromenna = 4;
    console.log(druhaPromenna); 

    //Objekty a pole se ukládají jako reference
    let prvniPromenna1 = { jmeno: "Jan", vek: 13 };
    let druhaPromenna1 = prvniPromenna1;
    prvniPromenna1.jmeno = "Karel";
    console.log(druhaPromenna1.jmeno);

    let prvniPromenna2 = ["červená", "modrá", "žlutá"];
    let druhaPromenna2 = prvniPromenna2;
    prvniPromenna2[2] = "zelená";
    console.log(druhaPromenna2[2]);

    //Metody objektů
    let osoba = {
        jmeno: "Richard",
        vek: 15,
        //Metoda uvnitř deklarace objektu
        jeZletily: function() {
            if(this.vek >= 18) {
                console.log('Je zletilý!');
            } else {
                console.log('Není zletilý!');
            }
        }
    };

    //Metoda k objektu osoba
    osoba.predstavSe = function () {
        console.log(`Ahoj, mé jméno je ${osoba.jmeno}`);
    }

    osoba.predstavSe();
    osoba.jeZletily();

    //tvorba třídy

    class Ctverec {
        constructor() {
            this.hrana = 0;
        }

        obsah() {
            console.log(this.hrana*this.hrana);
        }
    }

    //Nový objekt ze třídy Ctverec

    let ctverecA = new Ctverec();
    ctverecA.hrana = 5;
    ctverecA.obsah();
    let ctverecB = new Ctverec();
    ctverecB.hrana = 25;
    ctverecB.obsah();

    //Třída s konstruktorem s parametry

    class Osoba {
        constructor(jmeno, vek){
            this.name = jmeno;
            this.age = vek;
        }

        jeZletily() {
            if(this.age >= 18) {
                console.log('Je zletilý!');
            } else {
                console.log('Není zletilý!');
            }
        }

        predstavSe() {
        console.log(`Ahoj, mé jméno je ${this.name}`);
    }

    }

    let jan = new Osoba("Jan Kotel", 14);
    let libor = new Osoba("Libor Gombár", 28);

    libor.jeZletily();
    libor.predstavSe();
    jan.predstavSe();
    jan.jeZletily();



</script>
</html>